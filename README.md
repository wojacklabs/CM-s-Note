# CM's Notes Web

CM's Notes Web은 CM's Note 브라우저 확장 프로그램에서 업로드한 프로젝트별 CM이 작성한 노트들을 쿼리하여 큐레이팅하는 웹 서비스입니다.

## 주요 기능

### 1. 사용자/사용자의 노트 보여주기
- 프로젝트별 CM, 유저 타입, 아이콘별 필터링
- 사용자 프로필과 노트 뱃지 표시
- 뱃지 클릭 시 노트 상세 내용 보기

### 2. 최근 노트 받은 사용자 프로필
- CM 노트가 있는 사용자들의 프로필을 마키(marquee) 형태로 표시
- 최근 노트 받은 순서대로 정렬
- 속도 조절 가능

### 3. 성능 최적화
- **로컬 스토리지 캐싱**: 데이터를 로컬에 저장하여 로딩 시간 단축
- **5분 자동 갱신**: 캐시된 데이터를 5분마다 자동 업데이트
- **즉시 로딩**: 캐시된 데이터를 먼저 보여주고 백그라운드에서 업데이트
- **메모리 관리**: 3개 이상의 프로젝트 캐시 시 자동 정리

## 성능 개선사항

### 캐시 시스템
- 페이지 첫 방문 시 데이터를 로컬 스토리지에 저장
- 이후 방문 시 캐시된 데이터를 즉시 표시
- 캐시 유효기간: 5분
- 백그라운드에서 자동 업데이트

### 로딩 상태 개선
- 초기 로딩: 캐시가 없는 경우에만 전체 로딩 표시
- 업데이트 중: 작은 스피너로 백그라운드 업데이트 표시
- 상태 바: 로드된 노트 수와 마지막 업데이트 시간 표시

## 시작하기

### 필수 요구사항
- Node.js 16.0 이상
- npm 또는 yarn

### 설치 및 실행

```bash
# 의존성 설치
npm install

# 개발 서버 실행
npm run dev

# 프로덕션 빌드
npm run build

# 빌드된 파일 미리보기
npm run preview
```

## 배포

### Vercel 배포
```bash
# Vercel CLI로 배포
npx vercel --prod
```

프로젝트는 Vercel의 자동 감지 기능을 통해 Vite 프로젝트로 인식되며, `vercel.json` 설정으로 SPA 라우팅과 보안 헤더를 설정했습니다.

## 기술 스택

- **Frontend**: React, TypeScript, Vite
- **Styling**: CSS with CSS Variables
- **Data Source**: Irys Network (Arweave)
- **UI Components**: react-fast-marquee
- **캐싱**: localStorage API
- **배포**: Vercel

## 프로젝트 구조

```
src/
├── components/     # 재사용 가능한 컴포넌트
├── pages/         # 페이지 컴포넌트
├── services/      # API 및 외부 서비스
│   ├── irysService.ts    # Irys 네트워크 쿼리
│   └── cacheService.ts   # 로컬 스토리지 캐싱
├── types/         # TypeScript 타입 정의
└── styles/        # 전역 스타일
```

## 캐시 관리

### 캐시 수동 관리
브라우저 개발자 도구의 Application > Local Storage에서 `cm-notes-cache-` 접두사를 가진 항목들을 확인할 수 있습니다.

### 캐시 정리
- 프로젝트 변경 시 오래된 캐시 자동 정리
- 메모리 사용량 관리를 위한 자동 캐시 정리

## 주의사항

- Irys Network에서 데이터를 가져오므로 네트워크 연결이 필요합니다.
- 캐시는 브라우저 로컬 스토리지를 사용하므로 브라우저 데이터 삭제 시 캐시가 초기화됩니다.
- 5분 자동 갱신은 페이지가 활성화되어 있을 때만 작동합니다.

## 라이선스

이 프로젝트는 MIT 라이선스 하에 있습니다. 